import { Flipnote, FlipnoteMeta } from '../parsers';
import { WavEncoder, GifEncoder, GifEncoderPartialMeta } from '../encoders';
import { WebglCanvas } from '../webgl';
import { WebAudioPlayer } from '../webaudio';
interface PlayerLayerVisibility {
    [key: number]: boolean;
}
interface PlayerState {
    noteType: 'PPM' | 'KWZ';
    isNoteOpen: boolean;
    hasPlaybackStarted: boolean;
    paused: boolean;
    frame: number;
    time: number;
    loop: boolean;
    volume: number;
    muted: boolean;
    layerVisibility: PlayerLayerVisibility;
    isSeeking: boolean;
    wasPlaying: boolean;
}
/** flipnote player API, based on HTMLMediaElement (https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement) */
export declare class Player {
    canvas: WebglCanvas;
    audio: WebAudioPlayer;
    el: HTMLCanvasElement;
    type: string;
    note: Flipnote;
    meta: FlipnoteMeta;
    loop: boolean;
    paused: boolean;
    duration: number;
    layerVisibility: PlayerLayerVisibility;
    static defaultState: PlayerState;
    state: PlayerState;
    private isOpen;
    private customPalette;
    private events;
    private _lastTick;
    private _frame;
    private _time;
    private hasPlaybackStarted;
    private wasPlaying;
    private isSeeking;
    constructor(el: string | HTMLCanvasElement, width: number, height: number);
    get currentFrame(): number;
    set currentFrame(frameIndex: number);
    get currentTime(): number;
    set currentTime(value: number);
    get progress(): number;
    set progress(value: number);
    get volume(): number;
    set volume(value: number);
    get muted(): boolean;
    set muted(value: boolean);
    get framerate(): number;
    get frameCount(): number;
    get frameSpeed(): number;
    private setState;
    open(source: any): Promise<void>;
    close(): void;
    load(note: Flipnote): void;
    private playAudio;
    private stopAudio;
    toggleEq(): void;
    private playbackLoop;
    play(): void;
    pause(): void;
    togglePlay(): void;
    setFrame(frameIndex: number): void;
    nextFrame(): void;
    prevFrame(): void;
    lastFrame(): void;
    firstFrame(): void;
    thumbnailFrame(): void;
    startSeek(): void;
    seek(progress: number): void;
    endSeek(): void;
    getMasterWav(): WavEncoder;
    saveMasterWav(): void;
    getFrameGif(frameIndex: number, meta?: GifEncoderPartialMeta): GifEncoder;
    saveFrameGif(frameIndex: number, meta?: GifEncoderPartialMeta): void;
    getAnimatedGif(meta?: GifEncoderPartialMeta): GifEncoder;
    saveAnimatedGif(meta?: GifEncoderPartialMeta): void;
    drawFrame(frameIndex: number): void;
    forceUpdate(): void;
    resize(width: number, height: number): void;
    setLayerVisibility(layerIndex: number, value: boolean): void;
    toggleLayerVisibility(layerIndex: number): void;
    on(eventType: string, callback: Function): void;
    off(eventType: string, callback: Function): void;
    emit(eventType: string, ...args: any): void;
    clearEvents(): void;
    destroy(): void;
}
export {};
